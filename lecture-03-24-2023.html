<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Friday, Mar 24</title>

<script src="site_libs/header-attrs-2.20/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Statistics 436/516</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="lectures.html">Lectures</a>
</li>
<li>
  <a href="resources.html">Resources</a>
</li>
<li>
  <a href="syllabus.html">Syllabus</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Friday, Mar 24</h1>

</div>


<p>You can also download a <a href="lecture-03-24-2023.pdf">PDF</a> copy
of this lecture.</p>
<p>This in-class demonstration will feature the estimation of Poisson
and logistic regression models, and the interpretation of rate and odds
ratios.</p>
<div id="impact-of-pesticides-on-skylark-reproductivity"
class="section level2">
<h2>Impact of Pesticides on Skylark Reproductivity</h2>
<p>During the four summers from 1992 to 1995 researchers from the
National Environmental Research Institute in the Ministry of Environment
and Energy in Denmark conducted a study to examine how pesticide use
impacts skylark reproduction in barley fields.<a href="#fn1"
class="footnote-ref" id="fnref1"><sup>1</sup></a> The study used a
fractional factorial design in which each year two of four fields were
sprayed with pesticides while the other two fields were not.<a
href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a> Which
fields were sprayed was alternated so that a field was sprayed every
other year. The number of fledgling skylarks produced in each field each
year was recorded. The data are in the <code>skylark</code> data frame
from the <strong>trtools</strong> package. The data are plotted
below.</p>
<pre class="r"><code>library(trtools)
library(ggplot2)
p &lt;- ggplot(skylark, aes(x = spray, y = count)) + 
   geom_point() + facet_grid(field ~ year) + 
   labs(shape = &quot;Field&quot;, x = &quot;Field Sprayed?&quot;, 
    y = &quot;Number of Skylark Fledglings&quot;) + theme_minimal()
plot(p)</code></pre>
<p><img src="lecture-03-24-2023_files/figure-html/unnamed-chunk-2-1.png" width="100%" style="display: block; margin: auto;" />
The plot clearly shows the incomplete nature of the fractional factorial
design. In any given year, a field either was or was not sprayed. The
objective is to investigate the effect of spraying on the number of
skylarks while controlling for the effects of year and field.</p>
<ol style="list-style-type: decimal">
<li><p>Estimate a Poisson regression model for the number of skylark
fledglings as your response variable that will reproduce the following
results.</p>
<pre class="r"><code>cbind(summary(m)$coefficients, confint(m))</code></pre>
<pre><code>             Estimate Std. Error  z value   Pr(&gt;|z|)    2.5 %   97.5 %
(Intercept)  3.430943    0.13262 25.86999 1.450e-147  3.16352  3.68367
sprayyes    -0.456126    0.09385 -4.86011  1.173e-06 -0.64141 -0.27324
fieldKr      0.049089    0.12672  0.38738  6.985e-01 -0.19929  0.29806
fieldKu      0.004964    0.12800  0.03879  9.691e-01 -0.24611  0.25625
fieldRd     -0.179048    0.13417 -1.33452  1.820e-01 -0.44342  0.08326
year1993     0.462623    0.13064  3.54108  3.985e-04  0.20868  0.72149
year1994     0.060018    0.14149  0.42420  6.714e-01 -0.21735  0.33816
year1995     0.327281    0.13411  2.44041  1.467e-02  0.06596  0.59240</code></pre>
<p>Note that here <code>m</code> is a model object created using the
<code>glm</code> function.</p>
<p><!-- **Solution**: The results can be replicated as follows. Note that the output above indicates that only the "main effects" of spray, field, and year were specified. We can see that there are indicator variables for spray, field, and year, but no interaction terms.  -->
<!-- ```{r} -->
<!-- m <- glm(count ~ spray + field + year, family = poisson, data = skylark) -->
<!-- cbind(summary(m)$coefficients, confint(m)) -->
<!-- ``` --></p></li>
<li><p>What is the estimated rate ratio for the effect of spraying? How
can this be interpreted?</p></li>
</ol>
<!--     **Solution**: The quantity we want to estimate is $e^{\beta_1}$ which is the "rate ratio" for the effect of spraying. This gives the "multiplicative effect" of spraying --- i.e., the ratio of the expected count when spraying to the expected count when not spraying. You could compute this in R or with a hand calculator by computing `exp(-0.4561258)`. Also we can do this in R as follows. -->
<!--     ```{r} -->
<!--     exp(cbind(coef(m), confint(m))) -->
<!--     ``` -->
<!-- Note that I've included the endpoints of the confidence intervals as well. If you just wanted the point estimate you could use `exp(coef(m))`. The function `coef` extracts the parameter estimates from the model object `m`. -->
<!-- 3. Replicate the result that was obtained in the previous problem using the `contrast` function and the `tf = exp` option. Note that you will need to specify a field and a year, but since the model does not contain any interactions between spray and those variables the multiplicative effect of spray will not depend on the field or year you specify. -->
<!--     **Solution**: Here is how we could make inferences about the spray effect using the `contrast` function. -->
<!--     ```{r} -->
<!--     trtools::contrast(m, tf = exp, -->
<!--         a = list(spray = "yes", field = "Ke", year = "1992"), -->
<!--         b = list(spray = "no", field = "Ke", year = "1992")) -->
<!--     ``` -->
<!-- Also we can "flip" the rate ratio. -->
<!--     ```{r} -->
<!--     trtools::contrast(m, tf = exp, -->
<!--         a = list(spray = "no", field = "Ke", year = "1992"), -->
<!--         b = list(spray = "yes", field = "Ke", year = "1992")) -->
<!--     ``` -->
<!-- This shows that if a field is not sprayed the the expected number of fledglings is about 1.58 (58%) higher than when it is sprayed. Again, note that the field and year does not matter since there are no interactions between spray and either of those variables, so the multiplicative effect of spray will be the same regardless of the field and year. You could verify this by specifying a different field and/or year. Note that there are slight differences in the confidence intervals obtained here and in the previous problem. That is because `confint` computes a profile likelihood confidence interval whereas `contrast` computes a Wald confidence interval. Also note that while we were mainly interested in the effect of spray here, we could easily compare different fields or years.  -->
<!--     You can also use the **emmeans** package to estimate rate ratios, provided that the explanatory variable in question is categorical. Here is how you can use it to estimate the rate ratios for every combination of year and field (note that they are all the same for this model). -->
<!--     ```{r} -->
<!--     library(emmeans) -->
<!--     pairs(emmeans(m, ~ spray | field*year),  -->
<!--       type = "response", infer = TRUE) -->
<!--     ``` -->
<ol start="3" style="list-style-type: decimal">
<li>What is the estimated expected number of fledgelings for each
condition?</li>
</ol>
<!--     **Solution**: For example, the expected counts with and without spraying for field `Ke` in 1992 is -->
<!--     ```{r} -->
<!--     trtools::contrast(m, a = list(spray = c("yes","no"), field = "Ke", year = "1992"), -->
<!--         tf = exp, cnames = c("spray","no spray")) -->
<!--     ``` -->
<!-- Also note that the ratio of these estimated expected counts (spray divided by no spray) is about 0.63 which is what we estimated earlier. If you wanted to estimate a bunch of expected counts it might be easier to use `glmint`. Below I have estimated the estimated expected count for every combination of spray, field, and year. Note that `glmint` does not require you to specify a transformation function. It knows what function to use based on the model.  -->
<!--     ```{r} -->
<!--     d <- expand.grid(spray = c("yes","no"), field = c("Ke","Kr","Ku","Rd"),  -->
<!--         year = c("1992","1993","1994","1995")) -->
<!--     cbind(d, glmint(m, newdata = d)) -->
<!--     ``` -->
<!-- Here `fit` is the estimated expected count, and `low` and `upp` are the endpoints of the confidence interval for the expected count. Note that even though observations were not made at every combination of spray, field, and year, we can still *estimate* the expected counts for each combination. But we can only do this by assuming (implicitly when specifying the model) that there are no interactions among these variables. We could add a layer to the plot above to show the estimates and confidence intervals for the expected counts. -->
<!--     ```{r, fig.height = 6} -->
<!--     d <- cbind(d, glmint(m, newdata = d)) -->
<!--     p <- p + geom_pointrange(aes(y = fit, ymin = low, ymax = upp),  -->
<!--       shape = 21, fill = "white", data = d) + geom_point() -->
<!--     plot(p) -->
<!--     ``` -->
<!--     Note that I "added" a layer after `geom_pointrange` to show points corresponding to the observed counts so that they would be on top of the points showing the estimated expected counts. -->
<!--     Here is how to use the **emmeans** package to estimate the expected counts (rates) for each combination of spray, field, and year. -->
<!--     ```{r} -->
<!--     library(emmeans) -->
<!--     emmeans(m, ~ spray*field*year, type = "response") -->
<!--     emmeans(m, ~ spray|field*year, type = "response") -->
<!--     ``` -->
</div>
<div id="aflatoxicol-and-liver-tumors-in-trout" class="section level2">
<h2>Aflatoxicol and Liver Tumors in Trout</h2>
<p>The data in the data frame <code>ex2116</code> in the
<strong>Sleuth3</strong> package are from an experiment that
investigated the relationship between aflatoxicol and liver tumors in
trout. The figure below shows the proportion of trout in each tank that
developed liver tumors as well as the dose of aflatoxicol to which the
trout were exposed. Aflatoxicol is a metabolite of Aflatoxin B1, a toxic
by-product produced by a mold that infects some nuts and grains. Twenty
tanks of rainbow trout embryos were exposed to one of five doses of
aflatoxicol for one hour. The number of fish in each tank that developed
liver tumors one year later was then observed. The plot below shows the
data.</p>
<pre class="r"><code>library(Sleuth3)
library(ggplot2)
p &lt;- ggplot(ex2116, aes(x = Dose, y = Tumor/Total)) + 
   geom_point(alpha = 0.5) + theme_classic() + ylim(0, 1) + 
   labs(x = &quot;Dose (ppm)&quot;, y = &quot;Proportion of Trout With Liver Tumors&quot;)
plot(p)</code></pre>
<p><img src="lecture-03-24-2023_files/figure-html/unnamed-chunk-5-1.png" width="100%" style="display: block; margin: auto;" />
The goal here is to estimate the effect of aflatoxicol on the risk of
liver tumors in trout. Here we will consider three different logistic
regression models.</p>
<ol style="list-style-type: decimal">
<li><p>Consider the logistic regression model <span
class="math display">\[
\log\left[\frac{E(Y_i)}{1-E(Y_i)}\right] = \beta_0 + \beta_1 d_i,
\]</span> where <span class="math inline">\(Y_i\)</span> is the <span
class="math inline">\(i\)</span>-th observation of the proportion of
trout from a tank that developed liver tumors and <span
class="math inline">\(d_i\)</span> is the corresponding dose of
aflatoxicol to which those trout were exposed. This model can also be
written as <span class="math display">\[
E(Y_i) = \frac{e^{\eta_i}}{1 + e^{\eta_i}},
\]</span> where <span class="math inline">\(\eta_i = \beta_0 + \beta_1
d_i\)</span>. Note that by definition <span
class="math inline">\(E(Y_i)\)</span> is also the <em>probability</em>
that a trout from a given tank will develop liver tumors, and <span
class="math inline">\(E(Y_i)/[1-E(Y_i)]\)</span> is the <em>odds</em>
that a trout from a given tank will develop liver tumors. Estimate this
model using <code>glm</code>. You should be able to replicate the
following results.</p>
<pre class="r"><code>cbind(summary(m)$coefficients, confint(m))</code></pre>
<pre><code>            Estimate Std. Error z value  Pr(&gt;|z|)  2.5 %  97.5 %
(Intercept)   -0.867    0.07673   -11.3 1.321e-29 -1.019 -0.7179
Dose          14.334    0.93695    15.3 7.838e-53 12.558 16.2346</code></pre>
<p>Next estimate the odds ratio for the effect of increasing dose by
0.05 ppm using the <code>contrast</code> function.<a href="#fn3"
class="footnote-ref" id="fnref3"><sup>3</sup></a> How is this odds ratio
interpreted?</p></li>
<li><p>Now consider a model where we use the base-2 logarithm of dose as
the explanatory variable so that <span class="math display">\[\eta_i =
\beta_0 + \beta_1 \log_2(d_i).\]</span> Recall that the function <span
class="math inline">\(\log_2\)</span> is known to R as
<code>log2</code>. Estimate this model using <code>glm</code>. You
should be able to replicate the following results.</p>
<pre class="r"><code>cbind(summary(m)$coefficients, confint(m))</code></pre>
<pre><code>            Estimate Std. Error z value  Pr(&gt;|z|)  2.5 % 97.5 %
(Intercept)   4.1634     0.2085   19.97 9.564e-89 3.7631  4.581
log2(Dose)    0.8997     0.0446   20.17 1.628e-90 0.8141  0.989</code></pre>
<p>Here increasing the base-2 logarithm of dose by one unit is the same
thing as <em>doubling</em> dose, and so the effect on the odds ratio of
doubling dose will be the same regardless of what you double (e.g., 0.05
to 1 ppm, 0.1 to 0.2 ppm, etc.).<a href="#fn4" class="footnote-ref"
id="fnref4"><sup>4</sup></a> How is this odds ratio
interpreted?</p></li>
<li><p>Rather than trying to decide between using dose or some
transformation of dose in the model, we can instead define dose as a
5-level factor. There are two ways we could specify dose as a factor.
One would be to create a new variable.</p>
<pre class="r"><code>ex2116$Dosef &lt;- factor(ex2116$Dose)</code></pre>
<p>The levels of <code>Dosef</code> will be the original values of
<code>Dose</code> but converted to strings, which we can see if we use
the <code>levels</code> function.</p>
<pre class="r"><code>levels(ex2116$Dosef)</code></pre>
<pre><code>[1] &quot;0.01&quot;  &quot;0.025&quot; &quot;0.05&quot;  &quot;0.1&quot;   &quot;0.25&quot; </code></pre>
<p>Another approach is to replace <code>Dose</code> in the model formula
with <code>factor(Dose)</code>. Use the <code>contrast</code> function
to estimate the odds ratio for the odds of tumor development at 0.025
ppm versus 0.01 ppm, 0.05 ppm versus 0.01 ppm, 0.1 ppm versus 0.01 ppm,
and 0.25 ppm versus 0.01 ppm.<a href="#fn5" class="footnote-ref"
id="fnref5"><sup>5</sup></a> How are these odds ratios
interpreted?</p></li>
<li><p>Estimate the odds and probability of tumor development at each
value of dose used in the study for any of the three models.</p></li>
</ol>
</div>
<div class="footnotes footnotes-end-of-document">
<hr />
<ol>
<li id="fn1"><p>Odderskær, P., Prang, A., Eknegaard, N., &amp; Andersen,
P. N. (1997). Skylark reproduction in pesticide treated fields
(Comparative studies of Alauda arvensis breeding performance in sprayed
and unsprayed barley fields). <em>Bekæmpelsesmiddelforskning fra
Miljøstyrelsennr</em>, 32, National Environmental Research Institute,
Ministry of the Environment and Energy, Denmark: Danish Environmental
Protection Agency.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>A fractional factorial design is a design in which
observations are made at only a subset of the possible combinations of
levels of two or more factors. Such designs are quite economical but can
preclude the estimation of interactions. This does not mean that such
interactions are not present, but rather that if they are they are
confounded with the main effects. For this particular design it is only
possible to fully estimate a model with “main effects” for each of the
three factors. Ideally factional factorial designs are used when
interactions are negligible.<a href="#fnref2"
class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>Here <span class="math inline">\(e^{\beta_1}\)</span>
would be the odds ratio for the effect of increasing dose by 1 ppm.
However that is probably not a realistic effect as it would be a
relatively large increase in dose. The study only considered up to 0.25
ppm. Using <code>contrast</code> is convenient here to estimate the odds
ratio for the effect of an arbitrary change in dose.<a href="#fnref3"
class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p>We do not have to use the odds ratio for the effect of
doubling dose just because we are using the base-2 logarithm of dose as
our explanatory variable. We could also estimate the odds ratio for the
effect of increasing dose from, say, 0.05 ppm to 0.1 ppm. But we would
need to remember that because we are using the base-2 logarithm of dose
as an explanatory variable that this would <em>not</em> be the same odds
ratio as increasing dose the same amount from, say, 0.1 ppm to 0.15 ppm.
Similarly for the previous model where we did not use the base-2
logarithm of dose, we could still estimate the odds ratio for the effect
of doubling dose. But here we would need to remember that the odds ratio
of doubling from, say, 0.05 ppm to 0.1 ppm would <em>not</em> be the
same as the odds ratio for doubling from 0.1 ppm to 0.2 ppm.<a
href="#fnref4" class="footnote-back">↩︎</a></p></li>
<li id="fn5"><p>Note that how you specify the levels of dose will depend
on whether you created a new variable like <code>Dosef</code> or
converted it to a factor within the model formula with
<code>factor(Dose)</code>. For the latter you will need to specify dose
as a <em>number</em> but if you created it to a new variable you will
need to specify it as a <em>string</em> by enclosing it in quotes.<a
href="#fnref5" class="footnote-back">↩︎</a></p></li>
</ol>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
